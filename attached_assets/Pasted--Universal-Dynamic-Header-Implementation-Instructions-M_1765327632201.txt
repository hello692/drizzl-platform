# Universal Dynamic Header - Implementation Instructions

## Mission
Implement this EXACT header across ALL website pages (existing and future) with intelligent color adaptation based on background.

## The Header Structure

```
[‚ò∞ Menu]  [üîç Search]        [DRIZZL WELLNESS LOGO - CENTER]        [Wholesale]  [üë§ User]  [üõí Cart]
```

**Layout:**
- Left side: Menu button + Search button
- Center: DRIZZL WELLNESS logo (perfectly centered)
- Right side: Wholesale link + User icon + Cart icon

---

## CRITICAL REQUIREMENT: Apply to ALL Pages

This header MUST appear on:
- ‚úÖ Homepage
- ‚úÖ Product pages
- ‚úÖ Category pages
- ‚úÖ About page
- ‚úÖ Contact page
- ‚úÖ Cart page
- ‚úÖ Checkout page
- ‚úÖ Blog pages
- ‚úÖ Account pages
- ‚úÖ ANY new pages created in the future
- ‚úÖ EVERY SINGLE PAGE without exception

**Implementation Rule:** Create ONE reusable header component that is imported/included on every page template. Do NOT create separate headers for different pages.

---

## Dynamic Color Adaptation (MUST IMPLEMENT)

The header intelligently adapts its colors based on what's behind it:

### When Background is DARK (images, dark sections, videos):
```
Header Background: rgba(0, 0, 0, 0.3) with backdrop-filter: blur(10px)
Text Color: #FFFFFF (white)
Icons Color: #FFFFFF (white)
Logo: Use WHITE version of logo
```

### When Background is LIGHT/WHITE:
```
Header Background: rgba(255, 255, 255, 0.9) with backdrop-filter: blur(10px)
Text Color: #000000 (black)
Icons Color: #000000 (black)
Logo: Use BLACK version of logo
```

### Transition Between States:
```
transition: all 0.3s ease-in-out;
```

---

## Technical Implementation

### Method 1: JavaScript Detection (Recommended)
```javascript
// Detect background brightness and switch header colors
function updateHeaderColors() {
  const header = document.querySelector('header');
  const rect = header.getBoundingClientRect();
  const elementBehind = document.elementFromPoint(rect.left + rect.width/2, rect.bottom + 1);
  
  // Check if background is dark or light
  const bgColor = window.getComputedStyle(elementBehind).backgroundColor;
  const brightness = getBrightness(bgColor);
  
  if (brightness < 128) {
    // Dark background - use white text/icons
    header.classList.add('dark-bg');
    header.classList.remove('light-bg');
  } else {
    // Light background - use black text/icons
    header.classList.add('light-bg');
    header.classList.remove('dark-bg');
  }
}

// Call on scroll and load
window.addEventListener('scroll', updateHeaderColors);
window.addEventListener('load', updateHeaderColors);
```

### Method 2: Section-Based Detection
```javascript
// Simpler approach - detect based on scroll position and page sections
const sections = document.querySelectorAll('section');
sections.forEach(section => {
  const isDark = section.classList.contains('dark-section') || 
                 section.dataset.theme === 'dark';
  
  // Update header when section is in viewport
});
```

---

## Header Styling

### Base Header Styles
```css
header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 9999;
  padding: 1rem 2rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  transition: all 0.3s ease-in-out;
}

/* Dark background variant */
header.dark-bg {
  background: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

header.dark-bg * {
  color: #FFFFFF !important;
}

header.dark-bg .logo {
  filter: brightness(0) invert(1); /* Makes logo white */
}

/* Light background variant */
header.light-bg {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

header.light-bg * {
  color: #000000 !important;
}

header.light-bg .logo {
  filter: none; /* Original logo color (black) */
}
```

### Scroll Enhancement
```css
header.scrolled {
  padding: 0.75rem 2rem;
  background: rgba(0, 0, 0, 0.5); /* or adjust based on dark-bg/light-bg */
}
```

---

## Logo Implementation

**You MUST have two versions of the logo:**

1. **Black Logo** (for light backgrounds)
   - File: `logo-black.svg` or `logo-black.png`
   - Used when: `header.light-bg` class is active

2. **White Logo** (for dark backgrounds)
   - File: `logo-white.svg` or `logo-white.png`
   - Used when: `header.dark-bg` class is active

**Dynamic Logo Switching:**
```javascript
function updateLogo() {
  const logo = document.querySelector('.logo img');
  const header = document.querySelector('header');
  
  if (header.classList.contains('dark-bg')) {
    logo.src = '/images/logo-white.svg';
  } else {
    logo.src = '/images/logo-black.svg';
  }
}
```

---

## Responsive Behavior

### Desktop (> 1024px)
```
[‚ò∞ Menu]  [üîç Search]     [LOGO - CENTER]     [Wholesale]  [üë§]  [üõí]
```

### Tablet (768px - 1024px)
```
[‚ò∞ Menu]  [LOGO - CENTER]  [üîç]  [üë§]  [üõí]
```
- Hide "Wholesale" text, keep icons

### Mobile (< 768px)
```
[‚ò∞]  [LOGO - CENTER]  [üîç]  [üõí]
```
- Show only essential icons
- Menu opens full-screen overlay

---

## Header Component Structure

### HTML Structure
```html
<header id="main-header" class="dark-bg">
  <div class="header-left">
    <button class="menu-btn">
      <span class="icon">‚ò∞</span>
      <span class="text">Menu</span>
    </button>
    <button class="search-btn">
      <span class="icon">üîç</span>
      <span class="text">Search</span>
    </button>
  </div>
  
  <div class="header-center">
    <a href="/" class="logo">
      <img src="/images/logo-white.svg" alt="DRIZZL WELLNESS" id="header-logo">
    </a>
  </div>
  
  <div class="header-right">
    <a href="/wholesale" class="wholesale-link">Wholesale</a>
    <button class="user-btn">
      <span class="icon">üë§</span>
    </button>
    <button class="cart-btn">
      <span class="icon">üõí</span>
      <span class="cart-count">0</span>
    </button>
  </div>
</header>
```

---

## Implementation Checklist

Before marking as complete, verify:

- [ ] Header appears on ALL existing pages
- [ ] Header will automatically appear on ALL new pages
- [ ] Header switches from dark to light colors based on background
- [ ] Logo switches from white to black based on background
- [ ] All icons change color dynamically
- [ ] All text changes color dynamically
- [ ] Transitions are smooth (300ms)
- [ ] Header remains fixed at top on scroll
- [ ] Header is responsive on mobile, tablet, desktop
- [ ] Backdrop blur works properly
- [ ] Z-index ensures header is always on top
- [ ] No flickering or jumping during color transitions
- [ ] Works on homepage hero sections (dark background)
- [ ] Works on content sections (light background)
- [ ] User icon and cart icon are visible in both modes

---

## Testing Requirements

Test the header on:
1. **Homepage** - with hero image (dark) and content sections (light)
2. **Product pages** - with product images and white backgrounds
3. **About page** - various background types
4. **Scroll behavior** - from dark section to light section
5. **Mobile devices** - ensure responsive behavior works
6. **Different browsers** - Chrome, Safari, Firefox
7. **Fast scrolling** - no flickering or lag

---

## Common Issues & Solutions

**Issue: Logo not switching**
- Solution: Ensure you have both logo-white.svg and logo-black.svg files
- Use the JavaScript logo switching function

**Issue: Colors not changing**
- Solution: Check that dark-bg and light-bg classes are being toggled correctly
- Verify CSS specificity with !important flags

**Issue: Header flickering**
- Solution: Use debounced scroll detection
- Add transition delays: `transition-delay: 0.1s`

**Issue: Backdrop blur not working**
- Solution: Add both `backdrop-filter` and `-webkit-backdrop-filter`
- Ensure browser supports backdrop-filter

---

## Final Notes

- This is NOT a template - implement the EXACT header described
- Make it a reusable component imported on every page
- Colors switch automatically based on what's behind the header
- Smooth transitions between all states
- Must work flawlessly on mobile and desktop
- Zero exceptions - EVERY page gets this header

**Remember: ONE header component, used EVERYWHERE, adapts DYNAMICALLY.**